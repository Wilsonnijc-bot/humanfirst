<app-hf-app-shell
  [selectedDomain]="selectedDomain"
  (domainSelected)="onSidebarDomainSelected($event)">
  <div shell-center>
    <div class="my-comments-page">
      <h2>My Comments</h2>

      <p class="text-muted" *ngIf="loading">Loading your comments...</p>
      <p class="text-muted" *ngIf="!loading && comments.length === 0">You have not posted topic comments yet.</p>

      <section class="my-comments-list" *ngIf="!loading && comments.length > 0">
        <article class="my-comment-card" *ngFor="let comment of comments; trackBy: trackByComment">
          <header class="my-comment-header">
            <div class="my-comment-topic">
              <span class="my-comment-stance" [class.pro]="comment.stance === 'PRO'" [class.con]="comment.stance === 'CON'">
                {{comment.stance}}
              </span>
              <button
                *ngIf="comment.topicSlug"
                type="button"
                class="my-comment-topic-link"
                (click)="goToTopic(comment)">
                {{comment.weekTitle || 'Open topic'}}
              </button>
            </div>
            <span class="my-comment-time">{{comment.duration}}</span>
          </header>

          <p class="my-comment-month" *ngIf="comment.monthTitle">Month: {{comment.monthTitle}}</p>
          <p class="my-comment-text">{{comment.text}}</p>

          <div class="my-comment-actions">
            <button
              type="button"
              class="my-comment-delete"
              [disabled]="deletingCommentId === comment.id"
              (click)="deleteComment(comment)">
              {{deletingCommentId === comment.id ? 'Deleting...' : 'Delete'}}
            </button>
          </div>
        </article>
      </section>
    </div>
  </div>

  <div shell-right></div>
</app-hf-app-shell>
